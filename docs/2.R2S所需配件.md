### 电源线和电源的选择

  R2S 推荐使用 5V / 2A 的 USB 电源，stress 烤机下满载电流 0.8A。  

  建议使用质量可靠的 USB 线缆 USB-A 或 USB-C 至 MicroUSB。  

  *<注意请慎用 QC 类的充电头供电，以免电压识别有误供电电压过高损坏设备>*  

---

### TF 储存卡的选择及相关问题

  NanoPi R2S 没有内置储存器，使用外置插入式 TF 卡。TF 卡的兼容性和稳定性决定着固件刷写的成功与否，以及后续使用更新固件的稳定性。  

#### 1. TF 卡推荐

* 本群推荐使用 “朗科与京东联名的 Class10 / SDHC / A1 的 TF 卡”  
  
  *<主要是便宜、能用、且拥有京东提供后续保修及换新服务>*  

* 某宝等渠道的 “SanDisk Industrial 闪迪工业卡” 。从网友的反馈来看属 MLC 类型 TF 卡，且没 TLC 的擦写缺陷，适合频繁刷机。相比 TLC 拥有更长使用寿命，以及高至 85 度的工作温度。但渠道来源存在风险，请自行判断。  

* 另外可选用 TF 转 eMMC 的特殊 TF 卡，使用上稳定性最佳，但会破坏整体外观。详讯群内 Darya（适合刷写各种系统固件测试等频繁读写使用)。  

#### 2. TF 卡刷写固件

* 写卡软件：  

  > Windows 下建议使用 [win32diskimager](https://win32diskimager.download) 和 [rufus](https://rufus.ie)。  
  >
  > macOS 建议使用 [balenaEtcher](https://www.balena.io/etcher/)（macOS 和 Linux 也可直接在命令行下用 dd 写入）  

* 普通市售 TLC 类型的 TF 卡，由于可能存在"擦除缺陷"，建议在刷写固件前，尽量做覆盖填充，可选择完全格式化或进行快速格式化后填入一些大文件。  

* 如选用 SquashFS 格式固件，建议刷写成功后 SSH 登入运行命令 `firstboot -y && reboot now` 完全清理。  

* 覆盖写入可被写入精心设计的 2GB 空文件所代替，节约大量时间。无残留，获得更好体验。  

  > 下载地址： [zero2GB.img.gz](https://github.com/nicksun98/Others/raw/master/zero2GB.img.gz) （ 文件大小仅为约 2.1 MB / 1.9 MiB 左右 ）  
  >
  > 使用方法：先使用写卡软件写入 zero2GB.img.gz ，拔出读卡器并重新插入，再写入真正的软件包即可。  
  >
  > 感谢群友 Kane Green 的辛苦付出。  

#### 3. 其他常见问题

* Q: 为什么启动不了系统？  
  A: 首先根据上文确定是不是设置错误。比如 LAN WAN 互换，比如未自动获取 IP 地址。建议根据 2.2.2 的教程重新刷写TF卡。  
    *<另外部分 TF 卡不兼容 R2S，常见能使用兼容 ext4 格式固件而不能使用 SquashFS 格式固件启动>*  

* Q: 为什么 TF 卡读取不了/卡容量减少/刷卡掉速？  
  A: 建议使用专业软件删除分区，重新格式化 TF 卡。或更换读卡器。出现严重问题联系销售商换新。  

* Q: 刷了 SquashFS 的系统为什么原来的配置还在？  
  A: 因为 TLC 类型 TF 卡的特性，SquashFS 格式的系统存在的 Upper Layer 可能没有被擦除。特别是同系列的固件 RootFS 大小相同时会出现此类状况。[详情链接](https://openwrt.org/docs/guide-user/troubleshooting/failsafe_and_factory_reset)  

  解决方案：使用 SSH 等工具进 入R2S 输入：  
  ```shell  
  jffs2reset -y && reboot now
  ```
* Q: 为什么重启后配置丢失？  
  A: 如果您使用的是 SquashFS 文件系统的固件，请再刷机后参照上一条执行清理 Upper Layer 或者 重新挂载 Overlay 分区。如果您使用的是 Ext4 文件系统的固件，请确定 TF 卡是可写入的状态，确定写入的文件及更改已切实写入TF卡，而不是存在于运行 RAM 中。如果遇到连续出现问题或者卡写保护等情况，建议更换 TF 卡，具体请参照 [TF卡推荐](/2.R2S所需配件?id=_1-tf-卡推荐) 条目。  

  其他问题请先学会善用 [搜索引擎](https://www.google.com)，尝试自行解决，对于无法自行解决的问题欢迎阅读 [提问的艺术](https://github.com/betaseeker/How-To-Ask-Questions) 后在 Telegram 群 [NanoPi R2S Club](https://t.me/joinchat/JcBRDFWlAEMysWbVdPsxFw) 中提出、讨论。  

---

### 散热选择

* RK3328 是 4 核 A53，在日常使用中，发热量偏大。需要散热来保证不会达到温度墙而掉频。RK3328 的温度墙是 85℃。  
* 本节主要介绍由 R2S 群组发起打造的被动散热铝合金外壳，以及友善厂家前后推出的外壳及其它散热措施。  

#### 1. 铝合金外壳  

  所有铝合金外壳皆出自 Telegram 群 [NanoPi R2S Club](https://t.me/joinchat/JcBRDFWlAEMysWbVdPsxFw)。感谢群友们为 NanoPi R2S 所做的贡献。  
  友善厂家现推出外壳发售，神似 R2S Club 群组的第一代外壳。  
  
  __来自 Telegram 群 [NanoPi R2S Club](https://t.me/joinchat/JcBRDFWlAEMysWbVdPsxFw) 的众筹定制外壳已经全部售罄，感谢大家半年多的努力。经历了三代半的变化，外壳变成现在成熟的样子，每一代的进步都离不开大家的帮助，非常非常感谢为此努力的所有人。__

##### 1.1 铝合金外壳区别  

  外壳目前分为一代外壳，二代外壳，二代半外壳和三代外壳。  

  > 一代外壳：为铝合金构造，外表做氧化发黑处理，黑色高级纹理搭配顶部散热鳍片。TF 卡 和 USB 做开孔处理，其中限量版首批 300 件有特殊 Logo。  

  > 二代外壳：为铝合金构造，外表做磨砂氧化处理，保持铝合金原色，去掉顶部鳍片和 TF 卡槽，整体更协调，颜值在线。  

  > 二代半外壳：为铝合金构造，外表做磨砂氧化处理，保持铝合金原色，相比于二代加入重新设计开孔 TF 卡槽，插卡取卡更便捷。  

  > 三代外壳：在二代半外壳的基础上，加入 0.91 英寸 OLED 屏幕（详见 [OLED 屏幕](/2.R2S所需配件?id=oled-屏幕) 条目），简单安装方法，信息获取更高效。  

  > 友善厂家外壳：类似于一代外壳，用料变薄，优化 TF 卡口 和 外形设计，外观精致。但 Soc 铝柱变短，靠硅脂垫连接 Soc，背后无压片。  

##### 1.2 安装方法  

  暂略。正确安装才能保证良好散热效果，安装正确的铝合金外壳绝对能应付包括不透风弱电箱等非极端环境下正常使用。如有安装困难或温度过高，不明安装方法可加入 Telegram 群 [NanoPi R2S Club](https://t.me/joinchat/JcBRDFWlAEMysWbVdPsxFw)  

##### 1.3 半导体和风扇  

  半导体制冷片采用珀耳帖效应，安装在铝壳上可显著降低 Soc 温度。  
  注意做好热面散热和温控，否则会损坏制冷片和凝水导致 R2S 主板进液。  
  外壳外加装风扇会进一步降低 Soc 的温度。  
  交流讨论可加入 Telegram 群 [NanoPi R2S Club](https://t.me/joinchat/JcBRDFWlAEMysWbVdPsxFw)  

##### 1.4 常见问题  

* Q: 铝合金外壳能降低到多少度？  
    A: 这个要根据室温和空气流通速度来决定。铝合金外壳的最主要目的是满负载情况下能不碰温度墙，稳定 1608 MHz 的 Soc 主频不掉频，全力输出。以以往的经验来说，待机状态下 Soc 温度是室温 +20℃ 以内，弱电箱内 +25℃ 以内。如果温度过高应检查安装问题特别是散热柱与 CPU 是否紧密接触，应使用散热硅脂等确保有良好接触面导热。  

* Q: 绝缘胶带需要贴吗？  
    A: 可贴可不贴。 尽量注意做好绝缘保护，否则会因短路引起关机保护。  

* Q: 硅脂溢出到主板上怎么办？  
    A: 大部分硅脂不导电，没影响。  

* Q: 板子安装不进去怎么办？  
    A: R2S的主板制造过程是从整块大主板上裁切，会有一定的公差。用指甲刀锉一下边缘毛边。  

* Q: 硅脂垫是干什么的？可以不用吗？  
    A: 硅脂垫是贴主板后侧到铝壳底盖的，主要充当散热器弹簧的用途，给 Soc 和铝柱一个额外的压力，帮助更好散热。  

* Q: 群内外壳和友善外壳有什么区别？  
    A: 群内外壳已经众筹到最后一批，卖一个少一个，即将售罄绝版。拥有 OLED 的非凡乐趣和更佳的散热能力。友善外壳靠硅脂垫连接，散热会差一些，但是正常使用和非长时间暴力烤鸡不会碰触温度墙，可正常使用。  

  其他问题请先学会善用 [搜索引擎](https://www.google.com)，尝试自行解决，对于无法自行解决的问题欢迎阅读 [提问的艺术](https://github.com/betaseeker/How-To-Ask-Questions) 后在 Telegram 群 [NanoPi R2S Club](https://t.me/joinchat/JcBRDFWlAEMysWbVdPsxFw) 中提出、讨论。  

#### 2. 风扇外壳

  无论是网售亚克力定制的外壳还是原装风扇散热片（裸奔情况下）或其它自制的主动风扇散热方案，都可以显著降低待机温度，满足日常使用。但在极端满载情况下，还是会撞温度墙。如有极端需求还需暴力改造。 主动散热风扇也是故障点，注意维护使用。

#### 3. 其他被动散热

  无论是原装散热片还是加装其他散热片，只要满足不装外壳，存放于空气强流通处，都能显著降低待机温度。  

---

### USB 网卡

  Kernel 5.4 对大多数无线网卡的驱动支持都不好，暂无任何值得推荐使用的型号。  
 
  旧的 FriendlyWrt 可编译进 811ac 等 USB 网卡，设置为 N 模式，5 GHz。强制频宽 40 MHz，信道 40。重启后，可以跑到 100 Mbps 左右。  
 
  原生 OpenWrt 可选用 MT7601 等网卡，群友使用 EDUP 1200M USB 网卡可用，未测试。具体参照固件支持。  

  OpenWrt 支持 USB 的 4G 上网卡，具体请参考有编译支持的固件说明（目前主要支持 Hilink 模式）。  

---

### OLED 屏幕

  目前 OLED 屏幕分为 “0.96 寸狼牙山五壮士版”，和 “三代铝壳自带 0.91 寸屏幕”。  

  “ 0.91 寸屏幕 ” 可使用 NateLol 大佬的 [luci-app-oled](https://github.com/NateLol/luci-app-oled) 来选择显示内容（部分固件编译内置）。  

---

### 其他外设

  狼牙山五壮士等特殊外设。  
